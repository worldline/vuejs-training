(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{257:function(t,s){t.exports="data:image/jpeg;base64,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"},892:function(t,s,a){"use strict";a.r(s);var e=a(8),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"requetes-http"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requetes-http"}},[t._v("#")]),t._v(" Requêtes HTTP")]),t._v(" "),s("h2",{attrs:{id:"architecture"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#architecture"}},[t._v("#")]),t._v(" Architecture")]),t._v(" "),s("p",[t._v("Dans une "),s("em",[t._v("Single Page Application (SPA)")]),t._v(", la communication avec le serveur se fait via des requêtes HTTP asynchrones ("),s("em",[t._v("AJAX")]),t._v(") ou des protocoles plus spécialisés comme les WebSocket. Nous allons voir comment faire ces requêtes réseau depuis une application Vue.")]),t._v(" "),s("p",[t._v("Vue.js est un framework qui se focalise sur l'interface utilisateur et ne propose rien de particulier en ce qui concerne les échanges avec le serveur, préférant laisser ce choix d'implémentation au développeur. Le moyen le plus simple de lancer une requête HTTP asynchrone en JavaScript est d'utiliser "),s("a",{attrs:{href:"https://developer.mozilla.org/fr/docs/Web/API/Fetch_API/Using_Fetch",target:"_blank",rel:"noopener noreferrer"}},[t._v("la méthode "),s("code",[t._v("fetch")]),s("OutboundLink")],1),t._v(". Elle n'est pas supportée sur Internet Explorer mais il existe des polyfills pour compléter le support. Comme alternative, vous pouvez passer par d'autres bibliothèques tierces plus complètes telles que "),s("a",{attrs:{href:"https://github.com/axios/axios",target:"_blank",rel:"noopener noreferrer"}},[t._v("Axios"),s("OutboundLink")],1),t._v(", qui est recommandée par l'équipe de Vue.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("On évitera de faire les appels réseau directement depuis le code d'un composant. Cela empêche de réutiliser le code facilement si un autre composant doit faire le même appel. Optez plutôt pour systématiquement séparer la logique applicative de la logique de vos vues.")]),t._v(" "),s("p",[t._v("Par convention, on code la logique applicative dans des fichiers JS appelés "),s("em",[t._v("services")]),t._v(", répartis selon les grands pans fonctionnels de votre application et placés dans un dossier "),s("code",[t._v("src/services")])])]),t._v(" "),s("h2",{attrs:{id:"tp-echanger-avec-un-back-end"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tp-echanger-avec-un-back-end"}},[t._v("#")]),t._v(" TP : Échanger avec un back-end")]),t._v(" "),s("p",[t._v("Nous allons nous servir d'une API fournie par un serveur (le "),s("em",[t._v("back-end")]),t._v(") pour authentifier les utilisateurs et rechercher des films. Ce back-end a déjà été développé, vous pouvez clôner "),s("a",{attrs:{href:"https://github.com/worldline/vuejs-training-backend",target:"_blank",rel:"noopener noreferrer"}},[t._v("le repo"),s("OutboundLink")],1),t._v(" et lancer l'API localement avec:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/worldline/vuejs-training-backend\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ./vuejs-training-backend/\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" start\n")])])]),s("p",[t._v("Une clé d'API OMDB vous sera demandée pour pouvoir effectuer des recherches de films. Vous pouvez en obtenir une "),s("a",{attrs:{href:"https://www.omdbapi.com/apikey.aspx",target:"_blank",rel:"noopener noreferrer"}},[t._v("ici"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Une fois le serveur démarré, le contrat d'interface du back-end est disponible ici : "),s("a",{attrs:{href:"http://localhost:3030/api-docs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("api-docs"),s("OutboundLink")],1)])]),t._v(" "),s("ol",[s("li",[t._v("Créer un service générique "),s("code",[t._v("services/api.js")]),t._v(" permettant d'appeler le backend, avec ce contenu :")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useSession "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../stores/session.js'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BASE_URL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:3030'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("api")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" session "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useSession")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    params "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cors'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cache")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'no-cache'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headers "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Authorization")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("Bearer ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("token"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'Content-Type'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/json'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BASE_URL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" json "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ok"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" errorMessage "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("errorMessage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" json\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("Il n'y a pas de code spécifique à Vue ici, il s'agit d'une fonction utilitaire autour de la méthode "),s("code",[t._v("fetch")]),t._v(" branchée sur notre back-end. Le header "),s("code",[t._v("Authorization")]),t._v(" est utilisé pour envoyer le token d'authentification au back-end. Les autres options servent à configurer le cache HTTP et les autorisations cross-origin à appliquer.")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Créer un service "),s("code",[t._v("services/UserService.js")]),t._v(" qui exploitera les endpoints de l'API concernant l'inscription et le login des utilisateurs :")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" api "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/services/api.js'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("credentials")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("api")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user/register'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("credentials"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("credentials")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("api")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user/login'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("body")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("credentials"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("Dans le composant "),s("code",[t._v("LoginForm")]),t._v(", ajoutez un second bouton pour s'inscrire à côté de celui pour se login, puis modifiez les méthodes de "),s("code",[t._v("LoginForm")]),t._v(" pour appeler les méthodes du "),s("code",[t._v("UserService")]),t._v(" :")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" UserService "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/services/UserService.js'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" UserService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("email")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("email"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("password"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("firstname")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'John'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("lastname")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Smith'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" session "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useSession")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("token")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("token "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/search'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" UserService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("email")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("email"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("password "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" session "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useSession")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        session"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("token")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("token "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/search'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[s("p",[t._v("Notez qu'en cas d'erreur, on stocke le message d'erreur retourné dans une variable "),s("code",[t._v("error")]),t._v(". Si ce n'est pas déjà fait, déclarez cette variable dans les "),s("code",[t._v("data")]),t._v(" du composant et utilisez-là dans le template pour afficher le message d'erreur en cas d'échec d'authentification.")])]),t._v(" "),s("li",[s("p",[t._v("Notez également que la réponse du back-end au login contient un token permettant d'authentifier l'utilisateur, qui est transmis au store dans les paramètres de l'action "),s("code",[t._v("login")]),t._v(". Modifiez "),s("code",[t._v("stores/session.js")]),t._v(" pour stocker ce "),s("code",[t._v("token")]),t._v(" dans le store.")])]),t._v(" "),s("li",[s("p",[t._v("Le service "),s("code",[t._v("api")]),t._v(" est déjà configuré pour ajouter ce token en header "),s("code",[t._v("Authorization")]),t._v(" des requêtes. Vérifiez que le token est bien envoyé en header HTTP via les outils développeur de votre navigateur.")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("Bonus")]),t._v(" : Modifier l'action "),s("code",[t._v("logout")]),t._v(" du store pour supprimer le token et les infos utilisateur du store à la déconnexion, et assurez-vous que l'utilisateur est bien redirigé vers le formulaire de login.")])]),t._v(" "),s("li",[s("p",[t._v("Créez un service "),s("code",[t._v("FilmService")]),t._v(" avec une méthode pour rechercher les films, en suivant la documentation de l'API ("),s("code",[t._v("GET /movies/search")]),t._v(").")])]),t._v(" "),s("li",[s("p",[t._v("Complétez le composant "),s("code",[t._v("SearchFilm")]),t._v(" avec une data "),s("code",[t._v("query")]),t._v(" liée au formulaire de recherche, puis appelez "),s("code",[t._v("FilmService")]),t._v(" afin de permettre à l'utilisateur de chercher un film par son nom.")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Si vous avez découvert qu'il existait un film appelé "),s("em",[t._v("Undefined")]),t._v(", c'est que vous vous êtes trompés quelque-part 😃")]),t._v(" "),s("p",[s("img",{attrs:{src:a(257),alt:"Undefined, the movie"}})])])])}),[],!1,null,null,null);s.default=n.exports}}]);